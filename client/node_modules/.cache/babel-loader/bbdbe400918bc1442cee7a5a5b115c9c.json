{"ast":null,"code":"var _jsxFileName = \"/home/mario/Desktop/React/onone/client/src/components/Login.js\";\nimport React, { useState } from 'react';\nimport loginImage from \"../images/login.svg\";\nimport '../css/login.css';\n\nfunction Login(props) {\n  const [username, setUsername] = useState(props.username);\n\n  const login = async () => {\n    let o = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username\n      })\n    };\n    const response = await fetch('/login', o);\n    const {\n      status,\n      data\n    } = await response.json();\n\n    if (status == 'ok') {\n      if (data) {\n        props.updateAppState(data.username, data.user_id);\n      }\n    } else {\n      if (data == 'logged') {\n        props.checkIfLoggedIn();\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: loginImage,\n    className: \"login__logo\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: username,\n    onChange: e => {\n      setUsername(e.target.value);\n    },\n    className: \"form-control login__username bg-light border-0 small\",\n    placeholder: \"Enter your username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: login,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 4\n    }\n  }, \"Continue\"));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/mario/Desktop/React/onone/client/src/components/Login.js"],"names":["React","useState","Login","props","username","setUsername","login","o","method","headers","body","JSON","stringify","response","fetch","status","data","json","updateAppState","user_id","checkIfLoggedIn","loginImage","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AAEA,OAAO,kBAAP;;AACA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACrB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,CAACE,KAAK,CAACC,QAAP,CAAxC;;AACA,QAAME,KAAK,GAAG,YAAY;AACzB,QAAIC,CAAC,GAAG;AACPC,MAAAA,MAAM,EAAE,MADD;AAEPC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFF;AAGPC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAER,QAAAA,QAAQ,EAAEA;AAAZ,OAAf;AAHC,KAAR;AAKA,UAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAC,QAAD,EAAWP,CAAX,CAA5B;AACA,UAAM;AAACQ,MAAAA,MAAD;AAAQC,MAAAA;AAAR,QAAgB,MAAMH,QAAQ,CAACI,IAAT,EAA5B;;AACA,QAAGF,MAAM,IAAI,IAAb,EAAkB;AACjB,UAAGC,IAAH,EAAQ;AACPb,QAAAA,KAAK,CAACe,cAAN,CAAqBF,IAAI,CAACZ,QAA1B,EAAmCY,IAAI,CAACG,OAAxC;AACA;AACD,KAJD,MAIK;AACJ,UAAGH,IAAI,IAAI,QAAX,EAAoB;AACnBb,QAAAA,KAAK,CAACiB,eAAN;AACA;AACD;AACD,GAjBD;;AAkBA,sBACC;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAK,IAAA,GAAG,EAAEC,UAAV;AAAsB,IAAA,SAAS,EAAC,aAAhC;AAA8C,IAAA,GAAG,EAAC,MAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAGC;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAEjB,QAA1B;AAAoC,IAAA,QAAQ,EAAEkB,CAAC,IAAI;AAAEjB,MAAAA,WAAW,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AAA6B,KAAlF;AAAoF,IAAA,SAAS,EAAC,sDAA9F;AAAqJ,IAAA,WAAW,EAAC,qBAAjK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,eAIC;AAAQ,IAAA,OAAO,EAAElB,KAAjB;AAAwB,IAAA,SAAS,EAAC,iBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJD,CADD;AAQA;;AAED,eAAeJ,KAAf","sourcesContent":["import React, { useState } from 'react'\nimport loginImage from '../images/login.svg';\nimport '../css/login.css';\nfunction Login(props) {\n\tconst [username, setUsername] = useState(props.username)\n\tconst login = async () => {\n\t\tlet o = {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ username: username })\n\t\t};\n\t\tconst response = await fetch('/login', o);\n\t\tconst {status,data} = await response.json();\n\t\tif(status == 'ok'){\n\t\t\tif(data){\n\t\t\t\tprops.updateAppState(data.username,data.user_id);\n\t\t\t}\n\t\t}else{\n\t\t\tif(data == 'logged'){\n\t\t\t\tprops.checkIfLoggedIn();\n\t\t\t}\n\t\t}\n\t}\n\treturn (\n\t\t<div className=\"login\">\n\t\t\t<img src={loginImage} className=\"login__logo\" alt=\"logo\" />\n\t\t\t<br/>\n\t\t\t<input type=\"text\" value={username} onChange={e => { setUsername(e.target.value) }} className=\"form-control login__username bg-light border-0 small\" placeholder=\"Enter your username\" />\n\t\t\t<button onClick={login} className=\"btn btn-primary\">Continue</button>\n\t\t</div>\n\t)\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}